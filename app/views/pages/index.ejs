<!DOCTYPE html>
<html lang="pt-br">


<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" type="image/png" href="/imagem/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encontre Escolas - Home</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/index-desk1.css">
    <link rel="stylesheet" href="css/index-mob.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" href="css/slider.css">
</head>

    <%
        const tiposclassseCss = {
            'Educa√ß√£o Infantil': 'EI',
            'Ensino Fundamental I': 'EFI',
            'Ensino Fundamental II': 'EFII',
            'Ensino Fundamental': 'EFI',
            'Ensino M√©dio': 'EM',
            'Educa√ß√£o Integrada': 'EINT',
            'Cursos T√©cnicos': 'TEC',
            'Cursos Extracurriculares': 'CSO'
        }
        
    %>

<body class="tema-claro">

    <%- include('../partials/navbar'); %>


    <main class="fade-in">
        <header class="call2action">
            <!-- <h3 class="text1"><% if(autenticado && autenticado.autenticado){ %> <section class="msgBV">Bem vindo, <%=autenticado ? autenticado.autenticado : "Visitante" %></article>! <% }; %></h3> -->
            <section class="call2action-text">
                <h1 class="title"> A escola certa transforma o futuro <br> Encontre a sua aqui</h1>
                <h2 class="text1">Compare escolas, veja avalia√ß√µes e filtre de acordo com o que procura. Encontre a melhor op√ß√£o para voc√™ e sua fam√≠lia!</h2>
                <button type="button"><a href="/encontre-escolas">Ver escolas</a></button>
            </section>
            <figure class="call2action-image"><img src="/imagem/Thesis-amico.png" alt="Ilustra√ß√£o de estudante" ></figure>
        </header>
    </main>
<hr>
    <section class="como-funciona fade-in">
        <h2 class="title azul" id="azul">Como Funciona?</h2>
        <section class="steps">
            <section class="step">
                <section class="icon">üîç</section>
                <h3>Pesquise escolas</h3>
                <p>Encontre op√ß√µes pr√≥ximas ou pelo tipo de ensino.</p>
            </section>
            <section class="step">
                <section class="icon">‚≠ê</section>
                <h3>Compare avalia√ß√µes</h3>
                <p>Veja opini√µes de outros pais e alunos.</p>
            </section>
            <section class="step">
                <section class="icon">üè´</section>
                <h3>Escolha a ideal</h3>
                <p>Selecione a escola que melhor atende suas necessidades.</p>
            </section>
        </section>
    </section>
<aside class="separador"></aside>
    <section class="carrossel-escolas fade-in">
        <h2 class="title"> Escolas em destaque</h2>
        <section class="carrossel-container">
            <button class="carrossel-btn prev" onclick="moverCarrossel(-1)">‚ùÆ</button>
            <section class="carrossel-lista" id="carrosselLista">
                <% if (escolasPremium && escolasPremium.length > 0) { %>
                    <% escolasPremium.forEach(escola => { %>
                        <section class="escola-card">
                            <a href="/perfil-escola?id=<%= escola.id_usuario %>">
                                <img src="<%= escola.img_perfil_pasta || 'imagem/escola-padrao.png' %>" alt="<%= escola.nome_escola %>" style="display: block; margin: 0 auto;">
                                <h3><%= escola.nome_escola %></h3>
                                <aside class="niveis">
                                    <% if (escola.tipo_ensino) { %>
                                        <% const tipos = escola.tipo_ensino.split(','); %>
                                        <% tipos.forEach(tipo => { %>
                                            <h5 class="escolaridade <%= tipo.trim().toUpperCase().substring(0, 3) %> <%= tiposclassseCss[tipo.trim()] || '' %>"><%= tipo.trim() %></h5>
                                        <% }); %>
                                    <% } %>
                                </aside>
                                <p class="avaliacao">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" fill="#FFD700"/>
                                    </svg>
                                    <%= parseFloat(escola.media_avaliacao || 0).toFixed(1) %>
                                </p>
                            </a>
                        </section>
                    <% }); %>
                <% } else { %>
                    <section class="escola-card">
                        <img src="imagem/escola-padrao.png" alt="Nenhuma escola premium encontrada" style="display: block; margin: 0 auto;">
                        <h3>Nenhuma escola premium</h3>
                        <p>Seja o primeiro a assinar!</p>
                    </section>
                <% } %>
            </section>
            <button class="carrossel-btn next" onclick="moverCarrossel(1)">‚ùØ</button>
        </section>
    </section>
        <aside class="separador"></aside>
    <section class="categorias fade-in" style="padding: 40px 20px; text-align: center;">
        <h2 class="title" >Encontre a escola ideal para voc√™:</h2>
        <article class="categoria-cards">
            <a href="/encontre-escolas?niveis=Educa√ß√£o+Infantil">
                <article class="categoria-card EI">
                    <h3>Educa√ß√£o Infantil</h3>
                </article>
            </a>
            <a href="/encontre-escolas?niveis=Ensino+Fundamental+I">
                <article class="categoria-card EFI">
                    <h3>Ensino Fundamental I</h3>
                </article>
            </a>
            <a href="/encontre-escolas?niveis=Ensino+Fundamental+II">
                <article class="categoria-card EFII">
                    <h3>Ensino Fundamental II</h3>
                </article>
            </a>
            <a href="/encontre-escolas?niveis=Ensino+M√©dio">
                <article class="categoria-card EM">
                    <h3>Ensino M√©dio</h3>
                </article>
            </a>
            <a href="/encontre-escolas?niveis=Cursos+T%C3%A9cnicos">
                <article class="categoria-card TEC">
                    <h3>Cursos T√©cnicos</h3>
                </article>
            </a>
            <a href="/encontre-escolas?niveis=Cursos+Extracurriculares">
                <article class="categoria-card CSO">
                    <h3>Cursos Extracurriculares</h3>
                </article>
            </a>
        </article>
    </section>

    <section class="cta-dupla" style="display: flex; justify-content: center; gap: 40px; padding: 60px 20px; flex-wrap: wrap;">
        <h2 class="title" style="text-align: center; width: 100%; margin-bottom: 40px;">Fa√ßa parte da nossa comunidade! üë®‚Äçüë©‚Äçüëß‚Äçüë¶</h2>
        <section class="cta-coluna" style="max-width: 400px; text-align: center;">
            <h3>√â respons√°vel, aluno ou familiar?</h3>
            <p>Cadastre-se gratuitamente para avaliar escolas, deixar coment√°rios e ajudar outras fam√≠lias a escolherem melhor!</p>
            <a href="/cadastro-usuario" class="cta-btn usuario">Quero me cadastrar como usu√°rio</a>
        </section>
        <section class="cta-coluna" style="max-width: 400px; text-align: center;">
            <h3>√â uma escola?</h3>
            <p>Cadastre sua escola para aparecer nas buscas, receber avalia√ß√µes, destacar seus diferenciais e atrair mais alunos!</p><br>
            <a href="/cadastro-escola" class="cta-btn escola">Quero cadastrar minha escola</a>
        </section>
    </section>

    <!-- <button id="back-to-top" onclick="scrollToTop()">‚Üë</button> -->




    <%- include('../partials/footer'); %>

    <script src="js/slider-home.js"></script>

<script>
const lista = document.getElementById('carrosselLista');
const cards = lista.querySelectorAll('.escola-card');
const cardWidth = cards[0].offsetWidth + 24; // 24px gap
const container = document.querySelector('.carrossel-container');
const containerWidth = container.offsetWidth;
let posicao = 0;
let autoInterval;

// Fun√ß√£o para mover o carrossel
function moverCarrossel(direcao = 1) {
    posicao += direcao;
    if (posicao < 0) {
        posicao = cards.length - 1;
    } else if (posicao >= cards.length) {
        posicao = 0;
    }
    const centerOffset = (containerWidth / 2) - (cardWidth / 2);
    const leftPosition = posicao * cardWidth - centerOffset;
    lista.scrollTo({ left: Math.max(0, leftPosition), behavior: 'smooth' });
}

// Passa automaticamente a cada 3 segundos
function iniciarAutoCarrossel() {
    autoInterval = setInterval(() => moverCarrossel(1), 3000);
}

// Para o auto quando mouse est√° sobre o carrossel
lista.addEventListener('mouseenter', () => clearInterval(autoInterval));
lista.addEventListener('mouseleave', iniciarAutoCarrossel);

// Inicia o carrossel autom√°tico ao carregar
window.addEventListener('DOMContentLoaded', () => {
    const centerOffset = (containerWidth / 2) - (cardWidth / 2);
    lista.scrollLeft = Math.max(0, -centerOffset);
    iniciarAutoCarrossel();
});
</script>

</body>

</html>
